(function(){"use strict";var e={8255:function(e,t,s){var n=s(5130),a=s(6768);function o(e,t,s,n,o,r){const i=(0,a.g2)("ChatComponent");return(0,a.uX)(),(0,a.Wv)(i)}var r=s(4232),i=s.p+"img/user.f4522e05.png",l=s.p+"img/ivone.fd9ea1a8.svg";const c=e=>((0,a.Qi)("data-v-4876ea85"),e=e(),(0,a.jt)(),e),u={class:"chat"},h=c((()=>(0,a.Lk)("h1",null,"chatbot",-1))),d={class:"chat-card"},p={class:"chat-box",id:"chat-box"},g={class:"chat-output"},f={key:0,class:"msg-user"},v=c((()=>(0,a.Lk)("div",{class:"contato"},[(0,a.Lk)("img",{src:i,width:"40px",height:"auto"}),(0,a.Lk)("strong",null,"Você:")],-1))),m={key:1,class:"msg-ivone"},k=c((()=>(0,a.Lk)("div",{class:"contato"},[(0,a.Lk)("img",{src:l,width:"40px",height:"auto"}),(0,a.Lk)("strong",null,"Ivone:")],-1))),y=["innerHTML"],b={class:"chat-inputs"},L=c((()=>(0,a.Lk)("button",{type:"submit"},"Enviar",-1))),M={class:"chat-inputs-2"};function O(e,t,s,o,i,l){return(0,a.uX)(),(0,a.CE)("div",u,[h,(0,a.Lk)("div",d,[(0,a.Lk)("div",p,[(0,a.Lk)("div",g,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.chatMessages,((e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t,class:"mensagens"},[t%2===0?((0,a.uX)(),(0,a.CE)("div",f,[v,(0,a.Lk)("div",null,[(0,a.Lk)("p",null,(0,r.v_)(e),1)])])):((0,a.uX)(),(0,a.CE)("div",m,[k,(0,a.Lk)("div",{innerHTML:l.marked(e)},null,8,y)]))])))),128))])])]),(0,a.Lk)("div",b,[(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>l.sendMessage&&l.sendMessage(...e)),["prevent"])),class:"chat-inputs"},[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.message=e),placeholder:"Digite sua mensagem...",onKeyup:t[1]||(t[1]=(0,n.jR)(((...e)=>l.sendMessage&&l.sendMessage(...e)),["enter"]))},null,544),[[n.Jo,i.message]]),(0,a.Lk)("input",{type:"file",onChange:t[2]||(t[2]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),ref:"fileInput"},null,544),L],32)]),(0,a.Lk)("div",M,[(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.clearHistory&&l.clearHistory(...e)),class:"clearHistory"},"Limpar Histórico")])])])}s(4114);var x=s(4373),C=s(5852),F={mounted(){this.chatOutput=this.$el.querySelector(".chat-output ul");const e=localStorage.getItem("chatMessages");e&&(this.chatMessages=JSON.parse(e))},data(){return{message:"",chatMessages:[],apiUrl:"http://localhost:3000/api/generate",selectedFile:null}},methods:{handleFileUpload(){this.selectedFile=this.$refs.fileInput.files[0]},sendMessage(){if(this.message||this.selectedFile){let e={message:this.message};this.selectedFile?this.getBase64(this.selectedFile).then((t=>{e.file={mimeType:this.selectedFile.type,data:t},this.sendMessageToNode(e)})).catch((e=>{console.error("Erro ao converter arquivo para Base64:",e)})):this.sendMessageToNode(e)}},sendMessageToNode(e){x.A.post(this.apiUrl,e).then((e=>{const t=e.data.response,s=t.replace(/<[^>]+>/g,"");this.chatMessages.push(this.message),this.chatMessages.push(s),localStorage.setItem("chatMessages",JSON.stringify(this.chatMessages)),this.message="",this.chatOutput.scrollTop=this.chatOutput.scrollHeight})).catch((e=>{console.error("Erro ao enviar mensagem:",e)})).finally((()=>{this.message="",this.selectedFile=null,this.$refs.fileInput.value=null})),this.chatOutput.scrollTop=this.chatOutput.scrollHeight},getBase64(e){return new Promise(((t,s)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result.split(",")[1]),n.onerror=e=>s(e)}))},clearHistory(){localStorage.removeItem("chatMessages"),this.chatMessages=[],this.chatOutput.scrollTop=0},marked(e){return(0,C.xI)(e)}}},T=s(1241);const w=(0,T.A)(F,[["render",O],["__scopeId","data-v-4876ea85"]]);var S=w,j={name:"App",components:{ChatComponent:S}};const E=(0,T.A)(j,[["render",o]]);var I=E;(0,n.Ef)(I).mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,o){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],o=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<r&&(r=o));if(i){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],i=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var u=l(s)}for(t&&t(n);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkvertex_nodevue"]=self["webpackChunkvertex_nodevue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(8255)}));n=s.O(n)})();
//# sourceMappingURL=app.4f29d438.js.map